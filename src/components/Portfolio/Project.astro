---
import { getLangFromUrl, useTranslations } from "@i18n/utils";
import { Image } from "astro:assets";

const {
  tools = ["HTML", "CSS", "JavaScript"],
  demoLink = "#",
  githubLink = "#",
  image = "#",
  picture = false,
} = Astro.props;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const {
  title = t("project.noname"),
  description = t("project.nodesc"),
  alt_picture = t("project.nophoto"),
} = Astro.props;
---

<article
  class="rounded-lg p-6 outline hover:bg-purple-800/10 hover:scale-105 transition-all duration-300"
>
  {
    picture ? (
      <div class="mb-4 rounded-lg outline">
        <img src={image} alt={alt_picture} />
      </div>
    ) : (
      <div class="bg-linear-to-br from-purple-600 to-pink-600 h-51 rounded-lg mb-4" />
    )
  }

  <h3 class="text-xl font-bold mb-2">{title}</h3>
  <p class="text-gray-300 text-sm mb-4 h-15 min-[480px]:h-10">
    {description}
  </p>
  <div class="flex flex-wrap gap-2 mb-4 text-gray-300">
    {
      tools.map((tool: string) => (
        <span class="transition-all duration-300 ease-[ease] bg-purple-700 hover:bg-purple-600 hover:scale-105 px-3 py-1 rounded-xl text-xs">
          {tool}
        </span>
      ))
    }
  </div>
  <div class="flex gap-5">
    {
      demoLink != "#" ? (
        <a
          href={demoLink}
          target="_blank"
          class="group text-purple-300 bg-purple-900 hover:text-purple-200 hover:scale-105 hover:shadow-[0_10px_30px_rgba(139,92,246,0.3)] text-sm py-2 px-3 rounded-sm inline-flex items-center gap-1 transition-all duration-300"
        >
          {t("project.demo")}
          <span class="icon inline-block transition-transform duration-700 group-hover:rotate-1080">
            →
          </span>
        </a>
      ) : (
        ""
      )
    }

    {
      githubLink != "#" ? (
        <a
          href={githubLink}
          target="_blank"
          class="group text-purple-300 bg-purple-900 hover:text-purple-200 hover:scale-105 hover:shadow-[0_10px_20px_rgba(139,92,246,0.3)] text-sm py-2 px-3 rounded-sm inline-flex items-center gap-1 transition-all duration-300"
        >
          GitHub
          <span class="icon inline-block transition-transform duration-700 group-hover:rotate-1080">
            →
          </span>
        </a>
      ) : (
        ""
      )
    }
  </div>
</article>
